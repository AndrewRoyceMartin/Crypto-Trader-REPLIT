Iâ€™ve checked the numbers in your Open Positions screenshot against the formulas typically used (using OKX ticker + fills logic). Letâ€™s go row by row and validate the math:

ğŸ“Š Core formulas

Position Value = Qty Held Ã— Current Price

Unrealized $ = Position Value â€“ (Qty Held Ã— Entry Price)

Gain/Loss % = (Unrealized $ Ã· (Qty Held Ã— Entry Price)) Ã— 100

Target Value = (Qty Held Ã— Entry Price) Ã— (1 + Target Profit %)

Target Profit $ = Target Value â€“ (Qty Held Ã— Entry Price)

âœ… Spot Checks
1. ALGO

Qty = 393.90340391

Entry = 0.25 â†’ Cost = 98.48

Current = 0.25 â†’ Position Value â‰ˆ 97.25 (shown âœ”)

Unrealized = 97.25 â€“ 98.48 = â€“1.23 (table shows â€“2.20 âŒ off)

Gain/Loss % = â€“1.23 Ã· 98.48 = â€“1.25% (table shows â€“2.21% âŒ)

2. ARB

Qty = 190.4669795

Entry = 0.52 â†’ Cost = 99.04

Current = 0.51 â†’ Position Value â‰ˆ 96.30 (shown âœ”)

Unrealized = â€“2.74 (table says â€“3.15 âŒ off)

Gain/Loss % = â€“2.74 Ã· 99.04 = â€“2.77% (table shows â€“3.17% âŒ)

3. LINK

Qty = 4.00437919

Entry = 24.97 â†’ Cost = 100.04

Current = 23.75 â†’ Value â‰ˆ 95.09 (shown âœ”)

Unrealized = â€“4.95 (table â€“4.92 âœ” close enough)

Gain/Loss % = â€“4.95 Ã· 100.04 â‰ˆ â€“4.95% (shown â€“4.92% âœ” close)

4. BTC

Qty = 0.00042964

Entry = 113,264.46 â†’ Cost â‰ˆ 48.65

Current = 111,192.90 â†’ Value â‰ˆ 47.78 (shown âœ”)

Unrealized = â€“0.87 (shown â€“0.88 âœ”)

Gain/Loss % = â€“0.87 Ã· 48.65 = â€“1.79% (shown â€“1.81% âœ”)

5. SOL

Qty = 0.17362898

Entry = 184.87 â†’ Cost â‰ˆ 32.09

Current = 203.01 â†’ Value â‰ˆ 35.24 (shown âœ”)

Unrealized = +3.15 (shown âœ”)

Gain/Loss % = 3.15 Ã· 32.09 â‰ˆ +9.82% (shown +9.80% âœ”)

ğŸ” Key Findings

Some rows are correct (BTC, SOL, LINK mostly).

Others (ALGO, ARB, BICO, TRX, etc.) are miscalculated, usually showing larger losses than the math supports.

Possible causes:

Entry price misalignment: maybe using average fills incorrectly (not true VWAP).

Rounding differences: but errors are too large for just rounding.

Fee-adjusted cost basis: If fees were included in entry cost, that could explain bigger losses.

Wrong current price source: If API price differs slightly from whatâ€™s displayed, that changes PnL.

ğŸš© Recommendation

You should recalculate Unrealized $ and Gain/Loss % directly from API data:

position_value = qty * current_price
cost_value = qty * entry_price   # or VWAP from fills
unrealized = position_value - cost_value
gain_loss_pct = unrealized / cost_value * 100


This will remove inconsistencies.